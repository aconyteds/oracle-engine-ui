fragment MessageWorkspace on MessageWorkspace {
    content
    messageType
    timestamp
}

fragment MessageDetails on Message {
    id
    role
    content
    workspace {
        ...MessageWorkspace
    }
    humanSentiment
}

mutation CreateMessage($createMessageInput: CreateMessageInput!) {
    createMessage(input: $createMessageInput) {
        message {
            threadId
            ...MessageDetails
        }
    }
}

subscription GenerateMessage($generateMessageInput: GenerateMessageInput!) {
    generateMessage(input: $generateMessageInput) {
        content
        responseType
        message {
            ...MessageDetails
        }
    }
}

mutation SendFeedback($input: CaptureHumanFeedbackInput!) {
    captureHumanFeedback(input: $input) {
        message
    }
}
